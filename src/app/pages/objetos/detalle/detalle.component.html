<div class="container animated fadeInLeft">
  <div class="row">
    <div class="col-12">
      <h1>Detalle del objeto</h1>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="row">
        <div class="col-6">
          <app-herramienta *ngIf="objeto" [objeto]="objeto" [pagina] = "pagina"></app-herramienta>
        </div>

        <div class="col-6">

          <div class="row">
              <div class="col-12">
                <h2 style="text-align: center;">Valoraciones</h2>
              </div>
          </div>

          <div *ngIf="valoracionesObjeto.length == 0" class="row">
            <p class="col-12">Este objeto aún no tiene valoraciones.</p>
          </div>

          <div *ngIf="valoracionesObjeto.length != 0" class="row" style="overflow-y: scroll; height: 360px;">
            <div class="col-12">

              <div *ngFor="let valoracion of valoracionesObjeto" class="card">             
                <h5 class="card-header">{{valoracion.usuario.primer_apellido}} {{valoracion.usuario.segundo_apellido}}, {{valoracion.usuario.nombre}} - {{valoracion.fecha_creacion | date: 'dd/MM/yyyy'}} <star-rating [value]="valoracion.puntuacion" [totalstars]="5" checkedcolor="orange" uncheckedcolor="grey" size="14px" [readonly]="true"></star-rating> </h5>            
                <div class="card-body">
                  <p class="card-text">
                    {{valoracion.comentario}}
                  </p>
                </div>
              </div>

            </div>
          </div>


          <button *ngIf="authService.hasRole('ROLE_USER')" class="btn btn-primary mt-2" type="button" (click) = "comunService.ir_a('crear-valoracion', objeto.id)">
            Nueva valoración
          </button>
         

          

        </div>

        

      </div>
    </div>
  </div>

  <button class="btn btn-danger" type="button" (click) = "comunService.ir_a('objetos', null!)">
    Volver
  </button>

</div>
